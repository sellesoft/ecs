/*
 *  A Doc for testing whatever in. A quick way to test some UI in a resizable
 *  window.
 */

$ require "common"

@lpp.import "editor/Doc.lh"
@lpp.import "sdata/SourceDataEditor.lh"
@lpp.import "game/shared/map/MapState.lh"
@lpp.import "graphics/View.lh"
@lpp.import "game/shared/entity/EntityMgr.lh"
@lpp.import "game/client/graphics/GameRenderer.lh"

namespace editor
{

/* ============================================================================
 */
struct Test : Doc
{
  MapState map_state;
  MapDefLink map_asset;
  cl::GameRenderer game_renderer;
  EntityMgr entity_mgr;
  gfx::View view;

  gfx::Texture map_render;
  vec2f ui_size;

  void onOpen() override { init(); }

  b8 init();
  void deinit();

  void placeUI(ui::UI& ui, const EditorSkinDef& skin) override;
  void render(gfx::Vulkan& vk) override;
};

}
